<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This pallet’s configuration trait"><meta name="keywords" content="rust, rustlang, rust-lang, Config"><title>Config in pallet_mmr::pallet - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-1d6438e53893d4f5.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-b8db113b98e15459.css"><link rel="stylesheet" disabled href="../../static.files/dark-4b64df8497ac42b0.css"><link rel="stylesheet" disabled href="../../static.files/ayu-4939169e939b96f8.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-8f89a77f33748381.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../pallet_mmr/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../pallet_mmr/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Config</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Hash">Hash</a></li><li><a href="#associatedtype.Hashing">Hashing</a></li><li><a href="#associatedtype.LeafData">LeafData</a></li><li><a href="#associatedtype.OnNewRoot">OnNewRoot</a></li><li><a href="#associatedtype.WeightInfo">WeightInfo</a></li></ul><h3><a href="#required-associated-consts">Required Associated Constants</a></h3><ul class="block"><li><a href="#associatedconstant.INDEXING_PREFIX">INDEXING_PREFIX</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In pallet_mmr::pallet</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="../index.html">pallet_mmr</a>::<wbr><a href="index.html">pallet</a>::<wbr><a class="trait" href="#">Config</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/pallet_mmr/lib.rs.html#115-177">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait Config&lt;I:&nbsp;'static&nbsp;=&nbsp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;: <a class="trait" href="../../frame_system/pallet/trait.Config.html" title="trait frame_system::pallet::Config">Config</a> {
    type <a href="#associatedtype.Hashing" class="associatedtype">Hashing</a>: <a class="trait" href="../../sp_runtime/traits/trait.Hash.html" title="trait sp_runtime::traits::Hash">Hash</a>&lt;Output = &lt;Self as <a class="trait" href="trait.Config.html" title="trait pallet_mmr::pallet::Config">Config</a>&lt;I&gt;&gt;::<a class="associatedtype" href="trait.Config.html#associatedtype.Hash" title="type pallet_mmr::pallet::Config::Hash">Hash</a>&gt;;
    type <a href="#associatedtype.Hash" class="associatedtype">Hash</a>: <a class="trait" href="../../sp_runtime/traits/trait.Member.html" title="trait sp_runtime::traits::Member">Member</a> + <a class="trait" href="../../sp_runtime/traits/trait.MaybeSerializeDeserialize.html" title="trait sp_runtime::traits::MaybeSerializeDeserialize">MaybeSerializeDeserialize</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsMut.html" title="trait core::convert::AsMut">AsMut</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="../../parity_scale_codec/codec/trait.Codec.html" title="trait parity_scale_codec::codec::Codec">Codec</a> + <a class="trait" href="../../parity_scale_codec/encode_like/trait.EncodeLike.html" title="trait parity_scale_codec::encode_like::EncodeLike">EncodeLike</a> + <a class="trait" href="../../scale_info/trait.TypeInfo.html" title="trait scale_info::TypeInfo">TypeInfo</a> + <a class="trait" href="../../parity_scale_codec/max_encoded_len/trait.MaxEncodedLen.html" title="trait parity_scale_codec::max_encoded_len::MaxEncodedLen">MaxEncodedLen</a>;
    type <a href="#associatedtype.LeafData" class="associatedtype">LeafData</a>: <a class="trait" href="../trait.LeafDataProvider.html" title="trait pallet_mmr::LeafDataProvider">LeafDataProvider</a>;
    type <a href="#associatedtype.OnNewRoot" class="associatedtype">OnNewRoot</a>: <a class="trait" href="../../sp_mmr_primitives/trait.OnNewRoot.html" title="trait sp_mmr_primitives::OnNewRoot">OnNewRoot</a>&lt;&lt;Self as <a class="trait" href="trait.Config.html" title="trait pallet_mmr::pallet::Config">Config</a>&lt;I&gt;&gt;::<a class="associatedtype" href="trait.Config.html#associatedtype.Hash" title="type pallet_mmr::pallet::Config::Hash">Hash</a>&gt;;
    type <a href="#associatedtype.WeightInfo" class="associatedtype">WeightInfo</a>: <a class="trait" href="../trait.WeightInfo.html" title="trait pallet_mmr::WeightInfo">WeightInfo</a>;

    const <a href="#associatedconstant.INDEXING_PREFIX" class="constant">INDEXING_PREFIX</a>: &amp;'static [<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>];
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This pallet’s configuration trait</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="associatedtype.Hashing" class="method has-srclink"><a class="srclink rightside" href="../../src/pallet_mmr/lib.rs.html#136">source</a><h4 class="code-header">type <a href="#associatedtype.Hashing" class="associatedtype">Hashing</a>: <a class="trait" href="../../sp_runtime/traits/trait.Hash.html" title="trait sp_runtime::traits::Hash">Hash</a>&lt;Output = &lt;Self as <a class="trait" href="trait.Config.html" title="trait pallet_mmr::pallet::Config">Config</a>&lt;I&gt;&gt;::<a class="associatedtype" href="trait.Config.html#associatedtype.Hash" title="type pallet_mmr::pallet::Config::Hash">Hash</a>&gt;</h4></section></summary><div class="docblock"><p>A hasher type for MMR.</p>
<p>To construct trie nodes that result in merging (bagging) two peaks, depending on the
node kind we take either:</p>
<ul>
<li>The node (hash) itself if it’s an inner node.</li>
<li>The hash of SCALE-encoding of the leaf data if it’s a leaf node.</li>
</ul>
<p>Then we create a tuple of these two hashes, SCALE-encode it (concatenate) and
hash, to obtain a new MMR inner node - the new peak.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="associatedtype.Hash" class="method has-srclink"><a class="srclink rightside" href="../../src/pallet_mmr/lib.rs.html#142-153">source</a><h4 class="code-header">type <a href="#associatedtype.Hash" class="associatedtype">Hash</a>: <a class="trait" href="../../sp_runtime/traits/trait.Member.html" title="trait sp_runtime::traits::Member">Member</a> + <a class="trait" href="../../sp_runtime/traits/trait.MaybeSerializeDeserialize.html" title="trait sp_runtime::traits::MaybeSerializeDeserialize">MaybeSerializeDeserialize</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsMut.html" title="trait core::convert::AsMut">AsMut</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="../../parity_scale_codec/codec/trait.Codec.html" title="trait parity_scale_codec::codec::Codec">Codec</a> + <a class="trait" href="../../parity_scale_codec/encode_like/trait.EncodeLike.html" title="trait parity_scale_codec::encode_like::EncodeLike">EncodeLike</a> + <a class="trait" href="../../scale_info/trait.TypeInfo.html" title="trait scale_info::TypeInfo">TypeInfo</a> + <a class="trait" href="../../parity_scale_codec/max_encoded_len/trait.MaxEncodedLen.html" title="trait parity_scale_codec::max_encoded_len::MaxEncodedLen">MaxEncodedLen</a></h4></section></summary><div class="docblock"><p>The hashing output type.</p>
<p>This type is actually going to be stored in the MMR.
Required to be provided again, to satisfy trait bounds for storage items.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="associatedtype.LeafData" class="method has-srclink"><a class="srclink rightside" href="../../src/pallet_mmr/lib.rs.html#165">source</a><h4 class="code-header">type <a href="#associatedtype.LeafData" class="associatedtype">LeafData</a>: <a class="trait" href="../trait.LeafDataProvider.html" title="trait pallet_mmr::LeafDataProvider">LeafDataProvider</a></h4></section></summary><div class="docblock"><p>Data stored in the leaf nodes.</p>
<p>The <a href="../trait.LeafDataProvider.html">LeafData</a> is responsible for returning the entire
leaf data that will be inserted to the MMR.
<a href="../trait.LeafDataProvider.html">LeafDataProvider</a>s can be composed into tuples to put
multiple elements into the tree. In such a case it might be worth using
<a href="../../sp_mmr_primitives/struct.Compact.html" title="primitives::Compact">primitives::Compact</a> to make MMR proof for one element of the tuple leaner.</p>
<p>Note that the leaf at each block MUST be unique. You may want to include a block hash or
block number as an easiest way to ensure that.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="associatedtype.OnNewRoot" class="method has-srclink"><a class="srclink rightside" href="../../src/pallet_mmr/lib.rs.html#173">source</a><h4 class="code-header">type <a href="#associatedtype.OnNewRoot" class="associatedtype">OnNewRoot</a>: <a class="trait" href="../../sp_mmr_primitives/trait.OnNewRoot.html" title="trait sp_mmr_primitives::OnNewRoot">OnNewRoot</a>&lt;&lt;Self as <a class="trait" href="trait.Config.html" title="trait pallet_mmr::pallet::Config">Config</a>&lt;I&gt;&gt;::<a class="associatedtype" href="trait.Config.html#associatedtype.Hash" title="type pallet_mmr::pallet::Config::Hash">Hash</a>&gt;</h4></section></summary><div class="docblock"><p>A hook to act on the new MMR root.</p>
<p>For some applications it might be beneficial to make the MMR root available externally
apart from having it in the storage. For instance you might output it in the header
digest (see <a href="../../frame_system/pallet/struct.Pallet.html#method.deposit_log" title="frame_system::Pallet::deposit_log"><code>frame_system::Pallet::deposit_log</code></a>) to make it available for Light
Clients. Hook complexity should be <code>O(1)</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="associatedtype.WeightInfo" class="method has-srclink"><a class="srclink rightside" href="../../src/pallet_mmr/lib.rs.html#176">source</a><h4 class="code-header">type <a href="#associatedtype.WeightInfo" class="associatedtype">WeightInfo</a>: <a class="trait" href="../trait.WeightInfo.html" title="trait pallet_mmr::WeightInfo">WeightInfo</a></h4></section></summary><div class="docblock"><p>Weights for this pallet.</p>
</div></details></div><h2 id="required-associated-consts" class="small-section-header">Required Associated Constants<a href="#required-associated-consts" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="associatedconstant.INDEXING_PREFIX" class="method has-srclink"><a class="srclink rightside" href="../../src/pallet_mmr/lib.rs.html#125">source</a><h4 class="code-header">const <a href="#associatedconstant.INDEXING_PREFIX" class="constant">INDEXING_PREFIX</a>: &amp;'static [<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]</h4></section></summary><div class="docblock"><p>Prefix for elements stored in the Off-chain DB via Indexing API.</p>
<p>Each node of the MMR is inserted both on-chain and off-chain via Indexing API.
The former does not store full leaf content, just it’s compact version (hash),
and some of the inner mmr nodes might be pruned from on-chain storage.
The latter will contain all the entries in their full form.</p>
<p>Each node is stored in the Off-chain DB under key derived from the
<a href="trait.Config.html#associatedconstant.INDEXING_PREFIX" title="Self::INDEXING_PREFIX"><code>Self::INDEXING_PREFIX</code></a> and it’s in-tree index (MMR position).</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div id="implementors-list"></div><script src="../../implementors/pallet_mmr/pallet/trait.Config.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="pallet_mmr" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0-nightly (c5d82ed7a 2022-11-19)" data-search-js="search-df80cc3cb87b6482.js" data-settings-js="settings-7e1cf5cc683233f7.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>